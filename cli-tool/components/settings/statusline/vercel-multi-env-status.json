{
  "description": "Monitors both production and preview environments simultaneously with color-coded status indicators. Perfect for teams managing multiple deployment targets. Shows real-time status of your latest production and preview deployments with green/yellow/red indicators for quick visual assessment. Setup: Export environment variables 'export VERCEL_TOKEN=your_token' and 'export VERCEL_PROJECT_ID=your_project_id' (or manually replace $VERCEL_TOKEN and $VERCEL_PROJECT_ID in the command if you prefer not to use environment variables). Get your token from vercel.com/account/tokens and project ID from your Vercel dashboard.",
  "ui": {
    "statusLine": {
      "type": "command",
      "command": "bash -c 'input=$(cat); DIR=$(echo \"$input\" | jq -r \".workspace.current_dir\"); DEPLOYS=$(curl -s -H \"Authorization: Bearer $VERCEL_TOKEN\" \"https://api.vercel.com/v6/deployments?projectId=$VERCEL_PROJECT_ID&limit=10\" 2>/dev/null); if [ -n \"$DEPLOYS\" ] && [ \"$DEPLOYS\" != \"null\" ]; then PROD=$(echo \"$DEPLOYS\" | jq -r \".deployments[] | select(.target == \\\"production\\\") | .state\" | head -1); PREVIEW=$(echo \"$DEPLOYS\" | jq -r \".deployments[] | select(.target == \\\"preview\\\") | .state\" | head -1); case \"$PROD\" in READY) PROD_ICON=\"\ud83d\udfe2\";; BUILDING) PROD_ICON=\"\ud83d\udfe1\";; ERROR) PROD_ICON=\"\ud83d\udd34\";; *) PROD_ICON=\"\u26aa\";; esac; case \"$PREVIEW\" in READY) PREV_ICON=\"\ud83d\udfe2\";; BUILDING) PREV_ICON=\"\ud83d\udfe1\";; ERROR) PREV_ICON=\"\ud83d\udd34\";; *) PREV_ICON=\"\u26aa\";; esac; else PROD_ICON=\"\u2753\"; PREV_ICON=\"\u2753\"; fi; echo \"\u25b2 Vercel \ud83d\ude80 Prod:$PROD_ICON Prev:$PREV_ICON | \ud83d\udcc1 ${DIR##*/}\"'"
    }
  }
}